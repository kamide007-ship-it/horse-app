# Equine Vet Synapse (horse-app) v1.0

Flask web app for horse evaluation with photo/video inputs, 3yo image generation **based on the original side photo**, market estimate, and **bank-transfer billing (admin approval)**.

## Plans (fixed)
- **Free**: 1 evaluation total (video analysis / 3yo image / market estimate all enabled)
- **Starter**: JPY 1,980 / month, 10 eval / month
- **Pro**: JPY 4,980 / month, 30 eval / month (video priority flag)
- **Enterprise**: JPY 9,800+ / month, unlimited（価格は管理者運用で可変）

## Quick start (local)
```bash
python -m venv .venv
source .venv/bin/activate
pip install -r requirements.txt
export SECRET_KEY="dev"
python app.py
```
Open: http://127.0.0.1:5000

## Environment variables
Minimum:
- `SECRET_KEY`

Admin (optional):
- `ADMIN_EMAIL` (default: admin@example.com)

Bank transfer (optional / defaults provided):
- `BANK_NAME` (default: 楽天銀行)
- `BANK_BRANCH` (default: エンカ支店)
- `BANK_ACCOUNT_TYPE` (default: 普通)
- `BANK_ACCOUNT_NUMBER` (default: 1546960)
- `BANK_ACCOUNT_NAME` (default: Equine Vet Owners)
- `BANK_NOTE` (default: 振込名義の末尾に参照コードを入れてください)

Optional:
- `BASE_URL` (e.g. https://your-render-url)

## Render
Start command:
```bash
gunicorn app:app
```
Render must detect port from `$PORT`.

## Notes
- Photo/video scoring is lightweight heuristics (v1.0) but fully wired: uploading media changes the numeric results.
- 3yo image is generated by **transforming the original photo** (no "different horse" output).
